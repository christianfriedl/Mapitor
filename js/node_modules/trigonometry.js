var deg2rad = function(degrees) {
  return degrees * Math.PI / 180;
};
 
// Converts from radians to degrees.
var rad2deg = function(radians) {
  return radians * 180 / Math.PI;
};

var coordsOnCircle = function(centerX, centerY, radius, angle) {
    return {
        x: Math.sin(deg2rad(angle)) * radius + centerX,
        y: Math.cos(deg2rad(angle)) * radius + centerY
    };
};

var centerOfRectangle = function(x1, y1, x2, y2) {
    return {
        x: (x1 + x2) / 2,
        y: (y1 + y2) / 2
    };
};

var gradient = function(v1, v2) {
    return (v2.y - v1.y) / (v2.x - v1.x);
};

var normalGradient = function(v1, v2) {
    return 1 / gradient(v1, v2);
};

var reverseGradient = function(v1, v2) {
    return -(gradient(v1, v2));
};

var translate = function(v, factor) {
    return {
        x: v.x * factor,
        y: v.y * factor
    };
};

var magnitude = function(v) {
    return Math.sqrt(v.x * v.x + v.y * v.y);
};

var normalize = function(v) {
    var m = magnitude(v);
    console.log('normalize', v, m, v.x/m, v.y/m);
    return {
        x: v.x / m,
        y: v.y / m
    };
};

exports.deg2rad = deg2rad;
exports.rad2deg = rad2deg;
exports.coordsOnCircle = coordsOnCircle;
exports.centerOfRectangle = centerOfRectangle;
exports.gradient = gradient;
exports.normalGradient = normalGradient;
exports.reverseGradient = reverseGradient;
exports.translate = translate;
exports.magnitude = magnitude;
exports.normalize = normalize;
