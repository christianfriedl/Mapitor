/*
 * Copyright (C) 2015 Christian Friedl <Mag.Christian.Friedl@gmail.com>
 *
 * This file is part of Mapitor.
 *
 * Mapitor is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 3 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public Licens
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-
 *
 */

var deg2rad = function(degrees) {
  return degrees * Math.PI / 180;
};
 
// Converts from radians to degrees.
var rad2deg = function(radians) {
  return radians * 180 / Math.PI;
};

var coordsOnCircle = function(centerX, centerY, radius, angle) {
    return {
        x: Math.sin(deg2rad(angle)) * radius + centerX,
        y: Math.cos(deg2rad(angle)) * radius + centerY
    };
};

var centerOfRectangle = function(x1, y1, x2, y2) {
    return {
        x: (x1 + x2) / 2,
        y: (y1 + y2) / 2
    };
};

var gradient = function(v1, v2) {
    return (v2.y - v1.y) / (v2.x - v1.x);
};

var normalGradient = function(v1, v2) {
    return 1 / gradient(v1, v2);
};

var reverseGradient = function(v1, v2) {
    return -(gradient(v1, v2));
};

var translate = function(v, factor) {
    return {
        x: v.x * factor,
        y: v.y * factor
    };
};

var magnitude = function(v) {
    return Math.sqrt(v.x * v.x + v.y * v.y);
};

var normalize = function(v) {
    var m = magnitude(v);
    return {
        x: v.x / m,
        y: v.y / m
    };
};

exports.deg2rad = deg2rad;
exports.rad2deg = rad2deg;
exports.coordsOnCircle = coordsOnCircle;
exports.centerOfRectangle = centerOfRectangle;
exports.gradient = gradient;
exports.normalGradient = normalGradient;
exports.reverseGradient = reverseGradient;
exports.translate = translate;
exports.magnitude = magnitude;
exports.normalize = normalize;
